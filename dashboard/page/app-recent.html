<dom-module id="app-recent" >
    <link rel="import" type="css" href="styles/app-recent.css">

    <template>
        <template is="dom-repeat" items="{{list}}">
            <div class="project">
                <div class="name">{{item.name}}</div>
                <div class="layout horizontal center">
                    <img class="logo" src$="{{_getRuntimeLogo(item.runtime)}}"></img>
                    <div class="path">{{item.path}}</div>
                    <span flex-1></span>
                    <div class="btn-group">
                        <editor-button no-focus class="red">Close</editor-button>
                        <editor-button no-focus class="green">Open</editor-button>
                    </div>
                </div>
            </div>
        </template>
    </template>

    <script>
        var Path = require('fire-path');

        Polymer({
            is: 'app-recent',

            ready: function () {
                Editor.sendRequestToCore('app:query-recent', function ( results ) {
                    this.list = results;
                }.bind(this));
            },

            _getRuntimeLogo: function ( name ) {
                var info = Dashboard.runtimeInfos[name];
                if ( info ) {
                    return Path.join(info.path, 'res/logo.png');
                }
                return '';
            },
        });
    </script>
</dom-module>
